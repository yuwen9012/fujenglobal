<div class="tab-pane fade" id="law" role="tabpanel" aria-labelledby="law-tab">
    <h3 class="my-3 fw-bolder">College of Law</h3>
    
    <ul class="navbar-nav d-flex flex-row flex-wrap">
        <li class="nav-item m-1">
            <a class="nav-link btn" href="#introduction-law" data-scroll="true">Introduction</a>
        </li>
        <li class="nav-item m-1">
            <a class="nav-link btn" href="#features-law" data-scroll="true">Features</a>
        </li>
        <li class="nav-item m-1">
            <a class="nav-link btn" href="#amsp-law" data-scroll="true">Academic Module & Study Package</a>
        </li>
        <li class="nav-item m-1">
            <a class="nav-link btn" href="#csd-law" data-scroll="true">Course Structure & Description</a>
        </li>
        <li class="nav-item m-1">
            <a class="nav-link btn" href="#lo-law" data-scroll="true">Learning Outcomes</a>
        </li>
        <li class="nav-item m-1">
            <a class="nav-link btn" href="#fi-law" data-scroll="true">Faculty Information</a>
        </li>
        <li class="nav-item m-1">
            <a class="nav-link btn" href="#rf-law" data-scroll="true">Resources & Facilities</a>
        </li>
        <li class="nav-item m-1">
            <a class="nav-link btn" href="#ow-law" data-scroll="true">Office Website</a>
        </li>
        <li class="nav-item m-1">
            <a class="nav-link btn" href="#ci-law" data-scroll="true">Contact Information</a>
        </li>

        <li class="nav-item ml-auto">
            <a class="nav-link top back-to-top" href="#"><i class="fas fa-arrow-up"></i></a>
        </li>
    </ul>

    <div class="my-5" id="introduction-law">
        <div class="row align-items-start">
            <div class="col-md-12">
                <h3 class="my-3 fw-semibold">Introduction</h3>
                <div class="justify-text">
                    <div id="content-container-introduction">
                        <div id="content-introduction" class="truncate-content"></div>
                        <button id="read-more-btn-introduction" class="button button-read-more" onclick="toggleReadMore('introduction')">Read more...</button>
                        <button class="button button-edit" onclick="showEditor('introduction')">編輯內容</button>
                    </div>
                    <div id="editor-container-introduction" style="display: none;">
                        <div id="editor-introduction"></div>
                        <button class="button button-save" onclick="saveContent('introduction')">儲存內容</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="my-5" id="features-law">
        <div class="row align-items-start">
            <div class="col-md-6">
                <h3 class="my-3 fw-semibold">Features</h3>
                <div class="justify-text">
                    <div id="content-container-features">
                        <div id="content-features" class="truncate-content"></div>
                        <button id="read-more-btn-features" class="button button-read-more" onclick="toggleReadMore('features')">Read more...</button>
                        <button class="button button-edit" onclick="showEditor('features')">編輯內容</button>
                    </div>
                    <div id="editor-container-features" style="display: none;">
                        <div id="editor-features"></div>
                        <button class="button button-save" onclick="saveContent('features')">儲存內容</button>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <img src="images/study-package/law/law2.png" class="container-fluid">
            </div>
        </div>
    </div>


    <div class="my-5" id="amsp-law">
        <div class="row align-items-start">
            <div class="col-md-6 order-2 order-md-1">
                <img src="images/study-package/law/law3.jpg" class="container-fluid">
            </div>
            <div class="col-md-6 order-1 order-md-2">
                <h3 class="my-3 fw-semibold">Academic Module & Study Package</h3>
                <div class="justify-text">
                    <span class="my-3">There are 3 departments in the School of Law. Both Department of Law and Department of Financial and Economic Law offer LL.B. and LL.M. degrees, and the Department of Law provides the Ph. D. in law program. The Graduate Department of Law is equivalent to the J.D. program in U.S. which recruits students with bachelor degrees.</span>
                    <div class="collapse" id="collapseLawAmsp">
                        <span class="my-3">In addition, the School of Law offers 3 study package for students in all programs, the Enterprise Tax and Management Package, providing course such as: Accounting, Financial and Tax Planning, Tax Laws, Tax Accounting, Company Law, Securities Regulation, Investments, Financial Management, Customer Relationship Management and Consumer Protection Law; the International and Anglo-American Law Package, including courses such as: Introduction to Anglo- American Law, American Constitutional Law, Anglo-American Tort Law, U.S. Business Law, US Corporate Law, U.S. Securities Regulation, US Criminal Law, American Products Liability Law, Introduction to International Human Rights Law, Cross-cultural Legal Communication and International Law; and the Life, Technology and Law Package, offering courses such as: Theories and Practices of Life, Technology and Law, Theories and Practices of Medical Law, Bioindustry Investment and Intellectual Property and Biotechnological and Pharmaceutical Regulations and Management. Students are encouraged to take at least one package before graduation.
                        </span>
                    </div>
                    <a id="read-more-link-Law-amsp" data-bs-toggle="collapse" href="#collapseLawAmsp" role="button" aria-expanded="false" aria-controls="collapseLawAmsp">Read more...</a>
                </div>
            </div>
            
        </div>
    </div>

    <div class="my-5" id="csd-law">
        <div class="row align-items-start">
            <!--<div class="col-md-6">
                <img src="images/study-package/law/law4.jpg" class="container-fluid">
            </div>-->
            <div class="col-md-12">
                <h3 class="my-3 fw-semibold">Course Structure & Description</h3>
                <div class="justify-text">
                    <p class="mt-3">The School of Law offers main local law courses in three major groups. The Public Law group includes Constitution, Administrative Law and other courses in specific topics in this field. The Criminal Law group offers Criminal Law, Criminal Procedure and other courses in specific topics in this field. The Civil and Commercial Law group provides Civil Law courses over procedure, debts, property, family and succession, as well as Commercial Law courses including Corporation, Securities, Insurance, Negotiable Instruments and Maritime Law.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="my-5" id="lo-law">
        <div class="row align-items-start">
            <div class="col-md-6">
                <h3 class="my-3 fw-semibold">Learning Outcomes</h3>
                <div class="justify-text">
                    <div class="continueDecimal">
                        <ul>
                            <li>
                                <p class="mt-3 fw-semibold mb-0">Professional Refinement and Integration</p>
                                <p>Besides focusing on the professional education relating to basic legal theories, we will continue to develop the financial and economic law and integrate novel legal problems with basic legal theories.  </p>
                            </li>
                            <li>
                                <p class="mt-3 fw-semibold mb-0">Professional Ethics and Holistic Education</p>
                                <p>We will attach importance to legal ethics and emphasize the maintenance of human rights and the practice of fairness and justice. More efforts will be made to promote the concept of human rights and strengthen the study of legal services, so as to implement the education of an all-round personality devoted to care for the society and serving the people.</p>
                            </li>
                            
                        </ul>
                        <ul  class="collapse" id="collapseLawLo">
                            <li>
                                <p class="my-3 fw-semibold mb-0">Professional Ethics and Holistic Education</p>
                                <p>We will attach importance to legal ethics and emphasize the maintenance of human rights and the practice of fairness and justice. More efforts will be made to promote the concept of human rights and strengthen the study of legal services, so as to implement the education of an all-round personality devoted to care for the society and serving the people.</p>
                            </li>
                        </ul>
                    </div>
                    <a id="read-more-link-Law-lo" data-bs-toggle="collapse" href="#collapseLawLo" role="button" aria-expanded="false" aria-controls="collapseLawLo">Read more...</a>
                </div>
            </div>
            <div class="col-md-6">
                <img src="images/study-package/law/law5.jpg" class="container-fluid">
            </div>
        </div>
    </div>

    <div class="my-5" id="fi-law">
        <div class="row align-items-start">
            <div class="col-md-6 order-2 order-md-1">
                <img src="images/study-package/law/law6.jpg" class="container-fluid">
            </div>
            <div class="col-md-6 order-1 order-md-2">
                <h3 class="my-3 fw-semibold">Faculty Information</h3>
                <div class="justify-text">
                    <p class="my-3">There are currently 31 full-time members in the faculty, including 9 professors, 10 associate professors, and 12 assistant professors.</p>
                    <p>The faculty members have diverse education background, among them, 10 hold doctorates from Germany, 8 from Taiwan, 4 from U.S., 4 from Japan, 4 from U.K., 1 from France, and 1 from Austria.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="my-5" id="rf-law">
        <div class="row align-items-start">
            <div class="col-md-6">
                <h3 class="my-3 fw-semibold">Resources & Facilities</h3>
                <div class="justify-text">
                    <p class="mt-3 fw-semibold">Library Resources:</p>
                    <p class="my-3">The legal library resources of our institution are quite extensive, primarily housed in the Jishi Tower Social Science Library. We have a collection of 100,746 volumes of legal books in both Chinese and foreign languages, 392 types of legal journals in both Chinese and foreign languages, and 1,169 types of electronic legal journals. Additionally, we have access to legal databases such as Westlaw, Lexis Nexis Recht (German legal database), Chinese regulatory database, Lawsource Legal Database System, and Rooted Legal Database System.</p>
                    <div class="collapse" id="collapseLawRf">
                        <p class="mt-3 fw-semibold">Learning Facilities:</p>
                        <p class="my-3">Our institution has ample teaching facilities, with each classroom equipped with air conditioning and audio-visual equipment. Furthermore, we have facilities such as student study rooms, mock courtrooms, legal service centers, computer classrooms, English practice classrooms, graduate student research rooms, meeting rooms, and distance learning equipment. Additionally, each department association and student representative council has its own office.</p>
                    </div>
                    <a id="read-more-link-Law-rf" data-bs-toggle="collapse" href="#collapseLawRf" role="button" aria-expanded="false" aria-controls="collapseLawRf">Read more...</a>
                </div>
            </div>
            <div class="col-md-6">
                <img src="images/study-package/law/law7.jpg" class="container-fluid">
            </div>
        </div>
    </div>

    <div class="my-5" id="ow-law">
        <h3 class="my-3 fw-semibold">Office Website</h3>
        <a href="http://www.ls.fju.edu.tw/">http://www.ls.fju.edu.tw/</a>
    </div>

    <div class="my-5" id="ci-law">
        <h3 class="my-3 fw-semibold">Contact Information</h3>
        <p class="my-3">No. 510 Zhongzheng Rd , Xinzhuang Dist., New Taipei City, 24205 Taiwan(R.O.C)</p>
        <p class="my-3">Tel (886) +2-29052027</p>
        </br>
        <p class="my-3 fw-semibold">Chief of Internationalization</p>
        <p class="my-3">Chang, Ming-woei</p>
        <p class="my-3">E-mail: 081492@mail.fju.edu.tw</p>
        <p class="my-3">Tel (886) +2-29052619</p>
    </div>
</div>

<script>
   let editorInstances = {};

    ClassicEditor
        .create(document.querySelector('#editor-introduction'))
        .then(editor => {
            editorInstances['introduction'] = editor;
            loadContent('introduction', editor); // 頁面載入時載入內容
        })
        .catch(error => {
            console.error(error);
        });

    ClassicEditor
        .create(document.querySelector('#editor-features'))
        .then(editor => {
            editorInstances['features'] = editor;
            loadContent('features', editor); // 頁面載入時載入內容
        })
        .catch(error => {
            console.error(error);
        });

    function saveContent(section) {
        var editor = editorInstances[section];
        var content = editor.getData(); // 從編輯器獲取內容
        $.ajax({
            url: './php/save-content.php', // 確保路徑正確
            method: 'POST',
            data: { section: section, content: content },
            success: function(response) {
                // 儲存成功後直接載入內容更新顯示
                loadContent(section);
                document.getElementById(`editor-container-${section}`).style.display = 'none'; // 隱藏編輯器
                document.getElementById(`content-container-${section}`).style.display = 'block'; // 顯示內容區塊
            },
            error: function(xhr, status, error) {
                console.error('儲存內容錯誤:', error);
            }
        });
    }

    function loadContent(section, editor = null) {
        $.ajax({
            url: './php/load-content.php', // 確保路徑正確
            method: 'GET',
            data: { section: section },
            success: function(response) {
                const contentContainer = document.getElementById(`content-${section}`);
                contentContainer.innerHTML = response;

                // 判斷內容是否超過100字
                if (response.length > 100) {
                    document.getElementById(`read-more-btn-${section}`).style.display = 'block';
                } else {
                    document.getElementById(`read-more-btn-${section}`).style.display = 'none';
                }

                // 如果提供了編輯器實例，將內容設定到編輯器中
                if (editor) {
                    editor.setData(response);
                }
            },
            error: function(xhr, status, error) {
                console.error('讀取內容錯誤:', error);
            }
        });
    }

    function showEditor(section) {
        document.getElementById(`editor-container-${section}`).style.display = 'block'; // 顯示編輯器
        document.getElementById(`content-container-${section}`).style.display = 'none'; // 隱藏內容區塊
        var editor = editorInstances[section];
        loadContent(section, editor); // 載入內容到編輯器
    }

    function toggleReadMore(section) {
        const content = document.getElementById(`content-${section}`);
        const button = document.getElementById(`read-more-btn-${section}`);
        
        if (content.classList.contains('expanded')) {
            content.classList.remove('expanded');
            button.textContent = 'Read more...';
        } else {
            content.classList.add('expanded');
            button.textContent = 'Read less...';
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        loadContent('introduction'); // 頁面載入時載入內容
        loadContent('features'); // 頁面載入時載入內容
    });


</script>